
pipeline{
  agent any
   
   
  stages {

  stage('Install dependencies') {
      steps{
        
        script {
 sh 'npm cache clean --force'
         sh  'npm install --force'
        }
      }
    }


 
 

 stage('Build application') {
       steps{
        
         script {
    
          sh('npm run build')
         }
       }
     }

     stage('Deploy nexus ') { 
       steps{
        
         script {
       sh('npm run deploy ')
        }
       }
    }
     stage('build image docker  ') { 
      steps{
        
        script {
         sh('docker build . ')
        } 
      }
    }

   
  } 

}
